#!/bin/env sh

function node_setup() {
  echo "Configuring Node using fnm"
  fnm install v19.0.0
  fnm alias v19.0.0 latest
  fnm install v16.18.0
  fnm alias v16.18.0 default
  fnm alias v16.18.0 lts
  fnm use latest
  npm install -g npm
}


function python_setup() {
  echo "Configuring Python using pyenv"
  # pyenv install python
  # pyenv install --list
  pyenv install 3.11.0
  pyenv local 3.11.0
  pip install --upgrade pip
  pip install --user pynvim
}

function jvm_setup() {
  source "/home/geektimus/.sdkman/bin/sdkman-init.sh"
  sdk install gradle 7.5.1
  sdk install java 19-zulu
  sdk install kotlin 1.7.20
  sdk install sbt 1.7.2
  sdk install scala 3.2.0
}

if [ "$#" -ne 1 ]; then
    echo "Illegal number of parameters"
    exit 1
fi

if [[ "$1" == "node" ]]; then
  node_setup
elif [[ "$1" == "python" ]]; then
  python_setup
elif [[ "$1" == "jvm" ]]; then
  jvm_setup
else
  echo "Error: Unknown option '$1'"
  exit 2
fi

